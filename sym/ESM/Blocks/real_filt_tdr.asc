Version 4
SHEET 1 1824 776
WIRE 656 96 608 96
WIRE 800 96 736 96
WIRE 864 96 800 96
WIRE 1040 96 944 96
WIRE 1088 96 1040 96
WIRE 640 416 592 416
WIRE 800 416 720 416
WIRE 848 416 800 416
WIRE 1168 512 1104 512
WIRE 1360 512 1248 512
WIRE 1136 704 1072 704
WIRE 1328 704 1216 704
FLAG 1040 96 dut
IOPIN 1040 96 BiDir
FLAG 608 96 0
FLAG 800 96 output
FLAG 592 416 0
FLAG 800 416 test
FLAG 1104 512 0
FLAG 1360 512 gamma
IOPIN 1360 512 BiDir
FLAG 1072 704 0
FLAG 1328 704 impedance
IOPIN 1328 704 BiDir
SYMBOL res 960 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rs
SYMATTR Value {zo}
SYMBOL bv 736 416 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B2
SYMATTR Value V=V(dut)-(V(output)/2)
SYMBOL bv 1264 512 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B4
SYMATTR Value V=sgn(V(test)/(hi/2))*min(abs((V(test)/(hi/2))),1.001)
SYMBOL bv 1232 704 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B5
SYMATTR Value V= sgn( -50*(V(gamma)+1)/(V(gamma)-1))*min((-50*(V(gamma)+1)/(V(gamma)-1),abs_imped_disp_max))
SYMBOL voltage 752 96 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -193 219 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE({lo} {hi} {max(del-tr/1.6,0)} {tr/0.8} {tf/0.8} {pw} {pd})
TEXT -200 136 Left 2 !.tran 1n
TEXT 200 -224 Left 2 !.param tr=200p tf=tr del=100p hi=1 lo=0 pw=1n pd=2n
TEXT 416 -64 Left 2 !.param zo=50
TEXT 672 -112 Left 2 !.param abs_imped_disp_max=1000
